<ion-content class="customer-form-page ion-padding">
  <div class="form-wrapper">
    <ion-card>
      <ion-card-header>
        <ion-card-title>Customer Information</ion-card-title>
        <ion-card-subtitle
          >Please enter the details and add a photo</ion-card-subtitle
        >
      </ion-card-header>

      <ion-card-content>
        <form (submit)="submit(); $event.preventDefault()" class="form-grid">
          <ion-grid>
            <ion-row>
              <ion-col size="12" size-md="6">
                <ion-item>
                  <ion-label position="stacked">Name</ion-label>
                  <ion-input
                    [(ngModel)]="name"
                    name="name"
                    placeholder="Enter full name"
                  ></ion-input>
                </ion-item>
              </ion-col>

              <ion-col size="12" size-md="6">
                <ion-item>
                  <ion-label position="stacked">Phone</ion-label>
                  <ion-input
                    type="tel"
                    [(ngModel)]="phone"
                    name="phone"
                    placeholder="9876543210"
                    maxlength="15"
                  ></ion-input>
                </ion-item>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col size="12">
                <div class="file-row">
                  <label class="file-btn" for="customerImage">
                    <ion-icon name="camera-outline"></ion-icon>
                    <span>Choose Photo</span>
                  </label>
                  <input
                    id="customerImage"
                    type="file"
                    accept="image/*"
                    (change)="onFileChange($event)"
                  />
                  <div class="file-info" *ngIf="selectedFile">
                    <small
                      >{{ selectedFile.name }} â€”
                      {{
                        selectedFile.size / 1024 / 1024 | number : "1.1-2"
                      }}
                      MB</small
                    >
                  </div>
                </div>

                <div *ngIf="previewSrc" class="preview-wrap">
                  <img [src]="previewSrc" alt="preview" class="preview-image" />
                </div>
              </ion-col>
            </ion-row>

            <ion-row class="action-row">
              <ion-col size="12" size-md="6">
                <ion-button
                  expand="block"
                  color="medium"
                  fill="outline"
                  (click)="resetForm()"
                  >Reset</ion-button
                >
              </ion-col>
              <ion-col size="12" size-md="6">
                <ion-button
                  expand="block"
                  color="primary"
                  (click)="submit()"
                  [disabled]="loading"
                >
                  <ion-spinner *ngIf="loading" name="dots"></ion-spinner>
                  <span *ngIf="!loading">Save Customer</span>
                </ion-button>
              </ion-col>
            </ion-row>
          </ion-grid>
        </form>
      </ion-card-content>
    </ion-card>
    <div class="foot-note">
      <small>We will store the image for KYC. Keep it under 5 MB.</small>
    </div>
  </div>
</ion-content>
